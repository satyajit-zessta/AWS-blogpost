{% extends 'base.html' %}

{% block title %}Posts View{% endblock %}

{% block content %}
<h1>POST</h1>
<div class="lead">Avg comments per post: {{average_comments_per_post}}</div>
<div class="lead">Avg words per post: {{average_words_per_post}}</div>
<hr>
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Title</th>
                <th scope="col">Content</th>
                <th scope="col">Date</th>
                <th scope="col">CRUD</th>
                <th scope="col">No. of comments</th>
            </tr>
        </thead>
        <tbody>
            {%for post in posts%}
            
            <tr >
                <th scope="row">{{post.id}}</th>
                <td><a href="/post/{{post.id}}">{{post.title}}</a></td>
                <td>{{post.content|slice:":28"}}{% if post.content|length > 28 %}...{% endif %}</td>
                <td>{{post.date}}</td>
                <td>
                    <a href="{{post.id}}/verification" class="text-success"><i class="material-icons">edit</i></a><br>
                    <a href="{{post.id}}/delete" class="mt-2 text-danger"><i class="material-icons">delete</i></a>
                </td>
                <td>
                    <a href="/post/{{post.id}}"><i class="material-icons">chat</i><br></a>
                    <pre><small> {{post.num_of_comments}}</small></pre>
                </td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
    <a href="verification" class="btn btn-primary mt-2">+ Add Posts</a>
{% endblock %}